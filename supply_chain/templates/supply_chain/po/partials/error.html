{# This partial expects two context variables: 'form' and 'formset' #}
{% if form.errors or formset.errors or form.non_field_errors or formset.non_form_errors %}
   <div class="bg-red-50 border-b border-red-200 py-5">
      <div class="max-w-4xl space-y-2">
         <!-- Main form field errors -->
         {% for field in form %}
            {% for error in field.errors %}
               <div class="flex items-center">
                  <svg ... class="size-4 text-red-500 mr-2 ...">
                  </svg>
                  <p class="text-sm text-red-700">{{ field.label }}: {{ error }}</p>
               </div>
            {% endfor %}
         {% endfor %}
         <!-- Formset field errors -->
         {% for formset_form in formset %}
            {% for field in formset_form %}
               {% for error in field.errors %}
                  <div class="flex items-center">
                     <svg ... class="size-4 text-red-500 mr-2 ...">
                     </svg>
                     <p class="text-sm text-red-700">{{ field.label }}: {{ error }}</p>
                  </div>
               {% endfor %}
            {% endfor %}
         {% endfor %}
         <!-- Main form non-field errors -->
         {% for error in form.non_field_errors %}
            <div class="flex items-center">
               <svg ... class="size-4 text-red-500 mr-2 ...">
               </svg>
               <p class="text-sm text-red-700">{{ error }}</p>
            </div>
         {% endfor %}
         <!-- Formset-wide errors (e.g., management form issues) -->
         {% for error in formset.non_form_errors %}
            <div class="flex items-center">
               <svg ... class="size-4 text-red-500 mr-2 ...">
               </svg>
               <p class="text-sm text-red-700">{{ error }}</p>
            </div>
         {% endfor %}
      </div>
   </div>
{% endif %}
{% comment %}
<input type="hidden" name="items-TOTAL_FORMS" value="1" id="id_items-TOTAL_FORMS">
<input type="hidden" name="items-INITIAL_FORMS" value="2" id="id_items-INITIAL_FORMS">
<input type="hidden" name="items-MIN_NUM_FORMS" value="0" id="id_items-MIN_NUM_FORMS">
<input type="hidden" name="items-MAX_NUM_FORMS" value="1000" id="id_items-MAX_NUM_FORMS">
<ul class="errorlist nonfield">
   <li>“express” is not a valid UUID.</li>
</ul>
<div>
   <label for="id_items-0-received_quantity">Received quantity:</label>
   <input type="number" name="items-0-received_quantity" value="25" id="id_items-0-received_quantity">
</div>
<div>
   <label for="id_items-0-DELETE">Delete:</label>
   <input type="checkbox" name="items-0-DELETE" id="id_items-0-DELETE">
   <input type="hidden" name="items-0-purchase_order_item" value="85c6a6d6-8e6e-4b8e-a7de-c2874177e044" id="id_items-0-purchase_order_item">
   <input type="hidden" name="items-0-product" value="e400872f-2d5c-467a-b577-d47f5eabd3f9" id="id_items-0-product">
   <input type="hidden" name="items-0-receipt_item_id" value="936e085a-c92c-48d1-85f1-c9d8896e691e" id="id_items-0-receipt_item_id">
</div> {% endcomment %}
